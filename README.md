# spark-iot-ts
A platform for IOT timeseries analytics using Apache Spark, FiloDB and Flint ts library

## Objective of project
A Big Data backed platform for analytics of timeseries data in cloud

## Features of this project
Some of the features of this project are:
- Ease of reading IOT devices histories using metadata and time range using project-haystack format
- Helpers and utilities for time series data analytics and processing
- Temporal (preserving sorting by time) merge, joins and other operations using flint ts library
- Support for streaming, batch analytics and ad-hoc queries using Apache Spark and FiloDB (built on top of Apache Cassandra)

## Architecture
![spark-iot-ts architecture](docs/spark-filo-flint-arch.jpg?raw=true "Architecture of IOT data processing framework")


## Technology Stack
1. [Apache Spark](#apache-spark)
2. [Apache Cassandra](#apache-cassandra)
3. [Elasticsearch](#elasticsearch)
4. [Apache Kafka](#apache-kafka)
5. [Spark Thrift Server](#spark-thrift-server)
6. [Zeppelin Notebook](#zeppelin-notebook)
7. [Superset](#superset)

### 1. Apache Spark
[Apache Spark](https://spark.apache.org/) along with [FiloDB](https://github.com/filodb/FiloDB) library and
 [Flint ts](https://github.com/twosigma/flint) library is the core of this project.

> Apache Sparkâ„¢ is a fast and general engine for large-scale data processing.

 Apache Spark can be used for batch processing, streaming, machine learning and graph analytics on data generated by iot devices.

> The ability to analyze time series data at scale is critical for the success of finance and IoT applications based on Spark. Flint is Two Sigma's implementation of highly optimized time series operations in Spark. It performs truly parallel and rich analyses on time series data by taking advantage of the natural ordering in time series data to provide locality-based optimizations.

 Flint ts library supports temporal (preserving sorting by time) joins, merges and other timeseries related operations like group by cycles (same timestamp), group by intervals, time based windows, etc.

 > FiloDB is a new open-source distributed, versioned, and columnar analytical database designed for modern streaming workloads.

 FiloDB uses Apache Cassandra as data storage and built around Apache Spark framework. There is flexibility of data partitioning, sorting while storing, fast read/write and versioned data storage which is optimized for timeseries and events data.

 Currently tested for: Apache Spark 2.0.2
 Libraries forked at:
 - https://github.com/itsmeccr/FiloDB (Branch: v0.4_spark2)
 - https://github.com/itsmeccr/flint

### 2. Apache Cassandra
> The Apache Cassandra database is the right choice when you need scalability and high availability without compromising performance. Linear scalability and proven fault-tolerance on commodity hardware or cloud infrastructure make it the perfect platform for mission-critical data.Cassandra's support for replicating across multiple datacenters is best-in-class, providing lower latency for your users and the peace of mind of knowing that you can survive regional outages.

[Apache Cassandra](https://cassandra.apache.org/) is used as data storage (IOT histories) by FiloDB.

### 3. Elasticsearch
> [Apache Cassandra](https://cassandra.apache.org/) is used as data storage (IOT histories) by FiloDB.

[Elasticsearch](https://github.com/elastic/elasticsearch) is used for storing and querying IOT metadata in [project-haystack](https://project-haystack.org/) format.





